var AUSHA_SUBSCRIBE_MODAL_ID="ausha-subscribe-modal";var aushaPlayerScriptAlreadyLoaded=aushaPlayerScriptAlreadyLoaded||false;function resizePlayerIframe(event){if(!Object.prototype.hasOwnProperty.call(event.data,"source")||event.data.source!=="ausha-player"||!Object.prototype.hasOwnProperty.call(event.data,"payload")||!Object.prototype.hasOwnProperty.call(event.data.payload,"playerHeight")||!Object.prototype.hasOwnProperty.call(event.data.payload,"playerId")){return}var _event$data$payload=event.data.payload,playerHeight=_event$data$payload.playerHeight,playerId=_event$data$payload.playerId;var player=document.getElementById(playerId);if(player!==null){player.style.height="".concat(playerHeight,"px")}}function openSubscribeModal(event){if(!Object.prototype.hasOwnProperty.call(event.data,"source")||event.data.source!=="ausha-player"){return}var showSlug=event.data.payload.showSlug;var iframe=document.getElementById(AUSHA_SUBSCRIBE_MODAL_ID);if(iframe){iframe.src="https://subscribe.ausha.co/?slug=".concat(showSlug,"&open=true")}else{iframe=document.createElement("iframe");iframe.id=AUSHA_SUBSCRIBE_MODAL_ID;iframe.src="https://subscribe.ausha.co/?slug=".concat(showSlug,"&open=true");iframe.style.cssText="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 9999; border: none";iframe.setAttribute("frameborder","0");document.body.appendChild(iframe)}}function closeSubscribeModal(event){if(!Object.prototype.hasOwnProperty.call(event.data,"source")||event.data.source!=="ausha-subscribe-modal"){return}var iframe=document.getElementById(AUSHA_SUBSCRIBE_MODAL_ID);if(iframe){iframe.remove()}}function checkCompanionScriptLoaded(event){if(!Object.prototype.hasOwnProperty.call(event.data,"source")||event.data.source!=="ausha-player"){return}event.source.postMessage({source:"ausha-player-parent",name:"confirm-companion-script-loaded"},event.origin)}(function run(){if(typeof window!=="undefined"){// Prevent multiple executions when multiple players on same page
if(aushaPlayerScriptAlreadyLoaded){return}aushaPlayerScriptAlreadyLoaded=true;window.addEventListener("message",function onMessage(event){if(!Object.prototype.hasOwnProperty.call(event.data,"name")){return}switch(event.data.name){case"resize-player-iframe":resizePlayerIframe(event);break;case"open-subscribe-modal":openSubscribeModal(event);break;case"close-subscribe-modal":closeSubscribeModal(event);break;case"check-companion-script-loaded":checkCompanionScriptLoaded(event);break;default:break;}})}})();
